<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="renderer" content="webkit">
    <title>PC</title>
    <link rel="stylesheet" href="css/index.css">
</head>

<body>
    <div class="wrapper">
        <!-- 头部part -->
        <header id="header">
            <div class="header-container">
                <h1 class="logo left">
                    <a href="javascript:">
                        <img src="img/logo.png" alt="logo">
                        <!-- 图片要设置宽高，1避免还没加载进来时获取不到；2避免换图片时尺寸问题影响页面展示效果 -->
                    </a>
                </h1>
                <nav class="header-nav right">
                    <!-- ul设置alian-item = center -->
                    <ul>
                        <li>
                            <!-- a标签作为点击效果，不设样式 -->
                            <a href="">
                                <!-- up一开始宽度为0，鼠标移入变为100% -->
                                <div class="nav-item-actived"><img src="img/home_actived.png" alt="home_actived"></div>
                                <div class="nav-item-default"><img src="img/home.png" alt="home"></div>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:">
                                <div class="nav-item-actived">courses</div>
                                <div class="nav-item-default">courses</div>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:">
                                <div class="nav-item-actived">works</div>
                                <div class="nav-item-default">works</div>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:">
                                <div class="nav-item-actived">about</div>
                                <div class="nav-item-default">about</div>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:">
                                <div class="nav-item-actived">team</div>
                                <div class="nav-item-default">team</div>
                            </a>
                        </li>
                    </ul>
                </nav>
                <div class="arrow"></div>
            </div>
        </header>
        <!-- 主体part -->
        <!-- <main></main> 很多浏览器都不支持 -->
        <div id="main">

        </div>
    </div>

    <script>
        // 头部交互
        (function () {
            //获取相关元素
            var oNavItems = document.querySelectorAll('.header-nav li'); //所有导航的集合
            var oArrow = document.querySelector('#header .arrow');  //小箭头
            var oHeader = document.querySelector('#header');

            //初始化
            setNav(0);
            //1.刚进入页面就要改变箭头的位置 在主页的正下方.值的计算公式：房子的左边缘距离屏幕左边缘的距离  -  header左边缘距离屏幕左边缘的距离 + 箭头自身的一半（因为在样式中，我们移动了自身的一半） - （箭头宽度 - 房子宽度）/2
            // oArrow.style.left = oNavItems[index].getBoundingClientRect().left - oHeader.getBoundingClientRect().left + oArrow.offsetWidth / 2 - (oArrow.offsetWidth - oNavItems[index].offsetWidth)/2 + "px";

            // oArrow.style.left = oNavItems[index].getBoundingClientRect().left + (oNavItems[index].offsetWidth/2 - oArrow.offsetWidth/2) + 'px';

            // 给每个导航绑定单击事件
            oNavItems.forEach(function (navItem, index) {
                navItem.addEventListener('click', function () {
                    //点击时调用setNav方法设置导航
                    setNav(index)
                });
            });

            /**
             * 实现导航高亮 和 箭头位置
             * @param index 要高亮的导航
             * parameter:英 [pəˈræmɪtə(r)]   美 [pəˈræmɪtər]  n.决定因素 ; 规范 ; 范围
             */
            function setNav(index) {
                //其他所有的导航失去高亮
                oNavItems.forEach(function (item) {
                    item.classList.remove('actived');
                });
                //当前点击的导航显示高亮
                oNavItems[index].classList.add('actived');
                //设置箭头的位置
                oArrow.style.left = oNavItems[index].getBoundingClientRect().left + (oNavItems[index].offsetWidth / 2 - oArrow.offsetWidth / 2) + 'px';
                console.log(oArrow.style.left);

            }
        })();
    </script>



</body>

</html>